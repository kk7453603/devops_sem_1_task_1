# Ansible Inventory для DevOps лаборатории
# Инвентарь для SSH соединений с чистыми контейнерами

[all:vars]
ansible_connection=ssh
ansible_user=root
ansible_ssh_common_args='-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'
ansible_ssh_private_key_file=/root/.ssh/id_rsa

# Группа всех серверов
[servers:children]
nginx_servers
app_servers

# Nginx серверы
[nginx_servers]
nginx-server ansible_host=nginx-server ansible_port=22

# Серверы с приложением
[app_servers]
app-server ansible_host=app-server ansible_port=22

# Локальные хосты для тестирования
[local]
localhost ansible_connection=local

# Настройки для всех серверов
[servers:vars]
ansible_python_interpreter=/usr/bin/python3

# Специфичные настройки для nginx серверов
[nginx_servers:vars]
nginx_port=80
web_root=/var/www/html
client_max_body_size=16M
client_body_timeout=30s
client_header_timeout=30s
send_timeout=30s

# Специфичные настройки для серверов приложения
[app_servers:vars]
app_dir=/opt/myapp
app_user=myapp
app_group=myapp
app_port=8000
app_host=0.0.0.0
app_service_name=myapp
app_repo=https://github.com/example/myapp.git
app_version=main